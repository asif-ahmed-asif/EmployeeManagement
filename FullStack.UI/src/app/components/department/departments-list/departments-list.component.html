<div class="container mt-4">
  <div class="row">
      <div class="text-end">
        <button routerLink="/department/add" class="btn btn-primary" style="width: 150px;">Add Department</button>
      </div>
  </div>
</div>
<app-search (searchTextChanged)="onSearchTextEntered($event)"></app-search>
<div class="container mt-3">
    <h1>Department</h1>
    <hr />
    <table class="table table-striped table-hover mt-3" *ngIf="departments && departments.length > 0">
      <thead>
        <tr class="table-primary">
          <th scope="col">Id</th>
          <th scope="col">Name</th>
          <th scope="col">Status</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let department of departments">
          <td>{{department.id}}</td>
          <td>{{department.name}}</td>
          <td>{{department.status}}</td>
          <td>
            <div class="w-20 btn-group" role="group">
              <a [routerLink]="['/department/edit',department.id]" class="btn btn-primary mx-2">
                <i class="bi bi-pencil-square"></i> Edit
              </a>
              <a class="btn btn-danger" *ngIf="department.status ==='Active'" (click)="changeDepartmentStatus(department.id)">
                <i class="bi bi-x-circle"></i> Deactivate
              </a>
              <a class="btn btn-success" *ngIf="department.status ==='Inactive'" (click)="changeDepartmentStatus(department.id)">
                <i class="bi bi-check-circle"></i> Activate
              </a>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <h2 class="mt-3" *ngIf="!departments || departments.length < 1">Departments not found!</h2>
</div>
